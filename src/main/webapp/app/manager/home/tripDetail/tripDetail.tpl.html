<div class="row">
    <div class="col-md-12">
        <ng-map id="map" center="{{center}}" zoom="10" on-click="addPoint()">
            <marker ng-repeat="point in trip.points"
                    position="[{{point.latitude}}, {{point.longtitude}}]"
                    on-click="removeMarker(point.id)"
                    on-rightclick="showMarkerDetails(point.id, trip.id)"
            ></marker>
            <directions ng-if="trip.points.length>1"
                        draggable="true"
                        panel="directions-panel"
                        origin="{{start.latitude}}, {{start.longtitude}}"
                        destination="{{end.latitude}}, {{end.longtitude}}"
                        waypoints="{{theWaypoints}}"
                        suppress-markers="true">
            </directions>
        </ng-map>
    </div>
    <!--<div class="col-md-12">Galeria zdjęć</div>-->
    <div class="col-md-12 m-t pull-right">
        <div class="col-md-10">
            <button type="button" class="btn btn-warning pull-right" ng-click="editTrip()">Edytuj wycieczkę</button>
        </div>
        <div class="col-md-2 pull-right">
            <button type="button" class="btn btn-danger" ng-click="removeTrip(trip.id)">Usuń wycieczkę</button>
        </div>
    </div>
    <div class="col-md-12">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Lp</th>
                <th>Data</th>
                <th>Współrzędne</th>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="point in trip.points | orderBy:'timestamp'">
                <td>{{point.id}}</td>
                <td>{{point.timestamp}}</td>
                <td><span class="nowrap">&Phi; {{point.latitude}}</span> <span class="nowrap">&lambda; {{point.longtitude}}</span></td>
                <td>{{point}}</td>
                <td>
                    <a class="btn btn-link" ng-click="removePoint(point.id)">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <h4>Edytuj podróż</h4>
    <form ng-submit="postEditedTrip()" class="col-md-6">
        <div class="form-group row">
            <label class="control-label col-sm-4 col-form-label" for="name">Nazwa</label>
            <div class="col-sm-8">
                <input class="input-control" type="text" minlength="3" ng-model="newName" id="name" ng-value=trip.name required>
            </div>
        </div>
        <div class="form-group row">
            <label class="control-label col-sm-4 col-form-label" ng-model="description">Opis</label>
            <div class="col-sm-8">
                <input class="input-control" type="text" minlength="3" ng-model="newDescription" ng-value=trip.description required>
            </div>
        </div>
        <!--<div class="form-group">-->
            <!--<label class="control-label col-sm-4" ng-model="points">Punkty</label>-->
            <!--<input ng-repeat="point in trip.points" class="input-control" type="text" ng-model="points" ng-value=point.elevation|json >-->
        <!--</div>-->
            <div class="form-group row">
            <label class="control-label col-sm-4 col-form-label" for="startDate">Początek podróży</label>
            <div class="col-sm-8">
                <input class="input-control" type="date" ng-model="newStartDate" id="startDate" ng-value=trip.startDate>
            </div>
            </div>
        <div class="form-group row">
            <label class="control-label col-sm-4 col-form-label" for="endDate">Koniec podróży</label>
            <div class="col-sm-8">
            <input class="input-control" type="date" ng-model="newEndDate" id="endDate" ng-value=trip.endDate>
            </div>
        </div>
        <div class="col-sm-7 pull-left text-right">
            <input type="submit" class="btn btn-default" value="Edytuj podróż">
        </div>
    </form>
</div>